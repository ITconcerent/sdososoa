<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–µ - iStore</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="cart.css">
    <style>
        .success-container {
            max-width: 600px;
            margin: 50px auto;
            padding: 40px;
            text-align: center;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .success-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .order-number {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 18px;
        }

        .order-details {
            text-align: left;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .btn-primary {
            background: #007aff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background: #0056cc;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background: #545b62;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-top">
            <div class="logo">i<span>Store</span></div>
            <div class="user-actions">
                <a href="index.html">–ù–∞ –≥–æ–ª–æ–≤–Ω—É</a>
            </div>
        </div>
    </header>

    <div class="success-container">
        <div class="success-icon">üéâ</div>
        <h1>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ!</h1>
        <p>–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –ú–∏ –∑–≤'—è–∂–µ–º–æ—Å—è –∑ –≤–∞–º–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.</p>
        
        <div class="order-number">
            <strong>–ù–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: #<span id="orderId"></span></strong>
        </div>
        
        <div class="order-details">
            <h3>–î–µ—Ç–∞–ª—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:</h3>
            <div id="orderSummary"></div>
        </div>
        
        <div>
            <button class="btn-primary" onclick="window.location.href='index.html'">–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø–æ–∫—É–ø–∫–∏</button>
            <button class="btn-secondary" onclick="printPage()">–î—Ä—É–∫—É–≤–∞—Ç–∏</button>
        </div>
    </div>

    <script>
        // –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ø–æ–∫–∞–∑—É—î–º–æ –¥–µ—Ç–∞–ª—ñ
        function loadOrderDetails() {
            const orderId = 'ORD' + Date.now().toString().slice(-6);
            document.getElementById('orderId').textContent = orderId;
            
            const orderData = JSON.parse(localStorage.getItem('orderData') || '{}');
            const cart = JSON.parse(localStorage.getItem('cart') || '[]');
            const total = localStorage.getItem('cartTotal') || 0;
            
            let orderSummary = `
                <p><strong>–û—Ç—Ä–∏–º—É–≤–∞—á:</strong> ${orderData.firstName} ${orderData.lastName}</p>
                <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${orderData.phone}</p>
                <p><strong>Email:</strong> ${orderData.email}</p>
                <p><strong>–î–æ—Å—Ç–∞–≤–∫–∞:</strong> ${getDeliveryMethodName(orderData.deliveryMethod)}, ${getCityName(orderData.city)}</p>
                <p><strong>–ê–¥—Ä–µ—Å–∞:</strong> ${orderData.address}</p>
                <p><strong>–û–ø–ª–∞—Ç–∞:</strong> ${getPaymentMethodName(orderData.payment)}</p>
                <p><strong>–°—É–º–∞:</strong> ${parseInt(total).toLocaleString('uk-UA')} ‚Ç¥</p>
            `;
            
            document.getElementById('orderSummary').innerHTML = orderSummary;
            
            // –û—á–∏—â–∞—î–º–æ –∫–æ—à–∏–∫ –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
            localStorage.removeItem('cart');
            localStorage.removeItem('cartTotal');
            localStorage.removeItem('orderData');
        }

        function getPaymentMethodName(method) {
            const methods = {
                'card': '–ë–∞–Ω–∫—ñ–≤—Å—å–∫–∞ –∫–∞—Ä—Ç–∞',
                'google-pay': 'Google Pay',
                'apple-pay': 'Apple Pay',
                'cash': '–ì–æ—Ç—ñ–≤–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ'
            };
            return methods[method] || method;
        }

        function getDeliveryMethodName(method) {
            const methods = {
                'nova-poshta': '–ù–æ–≤–∞ –ü–æ—à—Ç–∞',
                'ukr-poshta': '–£–∫—Ä–ø–æ—à—Ç–∞',
                'courier': '–ö—É—Ä\'—î—Ä',
                'pickup': '–°–∞–º–æ–≤–∏–≤—ñ–∑'
            };
            return methods[method] || method;
        }

        function getCityName(city) {
            const cities = {
                'kyiv': '–ö–∏—ó–≤',
                'lviv': '–õ—å–≤—ñ–≤',
                'kharkiv': '–•–∞—Ä–∫—ñ–≤',
                'odesa': '–û–¥–µ—Å–∞',
                'dnipro': '–î–Ω—ñ–ø—Ä–æ'
            };
            return cities[city] || city;
        }

        function printPage() {
            window.print();
        }

        document.addEventListener('DOMContentLoaded', loadOrderDetails);
    </script>
</body>
</html>